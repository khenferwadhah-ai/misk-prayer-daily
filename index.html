<!DOCTYPE html>  <html lang="ar" dir="rtl">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0">  
<title>لوحة مواقيت الصلاة</title>  <style>  
*{margin:0;padding:0;box-sizing:border-box;font-family:'Tahoma',Arial;}  
body{  
  height:100vh;  
  display:flex;  
  justify-content:center;  
  align-items:center;  
  background:url("background.jpg") no-repeat center center fixed;  
  background-size:cover;  
}  
.overlay{  
  width:95%;  
  max-width:420px;  
  background:rgba(0,0,0,0.72);  
  border-radius:18px;  
  padding:15px;  
  text-align:center;  
  color:white;  
}  
.logo{width:85px;margin-bottom:6px;}  
  
/* العنوان والتواريخ الثلاثية الأبعاد */  
.title {
  font-family: "mohammad bold art", sans-serif; /* الخط الجديد */
  color: #ffffff; /* أبيض */
  font-weight: bold; /* BOLD */
  text-shadow: 
    2px 2px 4px #000000,  /* ظل أسود خفيف لعمق */
    0 0 6px #ffffff,       /* توهج خارجي */
    0 0 12px #ffffff;      /* توهج أوسع */
  margin: 6px 0;
}
  
/* الساعة الحالية */  
.clock{  
  font-size:48px;  
  font-weight:bold;  
  margin:10px 0;  
  padding:10px 20px;  
  border-radius:12px;  
  background:rgba(0,255,0,0.15);  
  border:2px solid rgba(0,255,0,0.4);  
  box-shadow: 0 0 20px rgba(0,255,0,0.6), 0 0 40px rgba(0,255,0,0.3) inset;  
  color:#bfff00;  
  text-shadow: 0 0 8px #bfff00, 0 0 15px #80ff00;  
}  
  
/* جدول الصلوات */  
.table{width:100%;font-size:17px;margin-top:10px;}  
.row{display:flex;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.25);padding:6px 0;}  
  
/* العد التنازلي للساعة القادمة */  
#nextPrayerClock{  
  font-size:32px;  
  margin-top:8px;  
  padding:6px 12px;  
  border-radius:10px;  
  background:rgba(0,255,0,0.08);  
  border:1px solid rgba(0,255,0,0.3);  
  box-shadow:0 0 10px rgba(0,255,0,0.4);  
  color:#ffffff;  
  text-shadow: 2px 2px 4px #000000, 0 0 6px #ffffff, 0 0 12px #ffffff;  
}  
  
/* جملة الصلاة القادمة */  
.next, #nextPrayerClock{  
  font-family:'Amiri', serif;  
  color:#ffffff;  
  font-weight:bold;  
  text-shadow:2px 2px 4px #000000,0 0 6px #ffffff,0 0 12px #ffffff;  
}  
</style>  </head>  
<body>  <div class="overlay">  <img src="logo.png" class="logo">  <div class="title">الجمعية الخيرية مسك الختام – القرارم قوقة</div>  <div class="date" id="gregorian">--</div>  
<div class="date" id="hijri">--</div>  <div class="clock" id="clock">00:00:00</div>  <div class="next" id="countdownText">الصلاة القادمة: --</div>  
<div class="clock" id="nextPrayerClock">--:--:--</div>  <div class="table" id="prayerTable">  
  <!-- جدول المواقيت سيتم ملؤه من times.json -->  
</div>  </div>  <script>  
// قراءة مواقيت الصلاة من ملف JSON  
fetch("times.json")  
  .then(r => r.json())  
  .then(data => {  
    const prayers = data.prayers;  
    const container = document.getElementById("prayerTable");  
  
    prayers.forEach(p => {  
      const div = document.createElement("div");  
      div.className = "row";  
      div.innerHTML = `<span>${p.name}</span><span>${p.time}</span>`;  
      container.appendChild(div);  
    });  
  
    function updateClockAndDates(){  
      const now = new Date();  
  
      // الساعة الحالية  
      document.getElementById("clock").innerText = now.toLocaleTimeString("ar-DZ",{hour12:false});  
  
      // التاريخ الميلادي  
      document.getElementById("gregorian").innerText = now.toLocaleDateString("ar-DZ",{  
        weekday:"long", year:"numeric", month:"long", day:"numeric"  
      });  
  
      // التاريخ الهجري المثبت حتى 01 فيفري 2026 الساعة 00:00  
      const cutoff = new Date("2026-02-01T00:00:00");  
      let hijriDate;  
      if(now < cutoff){  
          hijriDate = "12 شعبان 1447";  
      }else{  
          hijriDate = now.toLocaleDateString('ar-SA-u-ca-islamic',{day:'numeric', month:'long', year:'numeric'});  
      }  
      document.getElementById("hijri").innerText = hijriDate;  
    }  
  
    setInterval(updateClockAndDates,1000);  
    updateClockAndDates();  
  })  
  .catch(err=>console.error("خطأ في تحميل مواقيت الصلاة:", err));  
</script>  <script>  
// العد التنازلي + تلوين الصلاة القادمة  
function updateNextPrayerCountdown() {  
  const rows = document.querySelectorAll(".row");  
  const now = new Date();  
  let targetTime = null;  
  let nextPrayerName = "";  
  
  // إيجاد أول صلاة لم يحين وقتها (تجاوز الإمساك)  
  for (let row of rows) {  
    const name = row.children[0].innerText.trim();  
    const time = row.children[1].innerText.trim();  
    if (name === "الإمساك") continue;  
    const [h, m] = time.split(":").map(Number);  
    const total = h * 60 + m;  
    const currentMinutes = now.getHours() * 60 + now.getMinutes();  
    if (total > currentMinutes) {  
      targetTime = new Date();  
      targetTime.setHours(h, m, 0, 0);  
      nextPrayerName = name;  
      break;  
    }  
  }  
  
  // إذا انتهت كل الصلوات، نأخذ أول صلاة غد  
  if (!targetTime) {  
    for (let row of rows) {  
      const name = row.children[0].innerText.trim();  
      if (name === "الإمساك") continue;  
      const time = row.children[1].innerText.trim();  
      const [h, m] = time.split(":").map(Number);  
      targetTime = new Date();  
      targetTime.setDate(targetTime.getDate() + 1);  
      targetTime.setHours(h, m, 0, 0);  
      nextPrayerName = name;  
      break;  
    }  
  }  
  
  const diff = Math.max(0, targetTime - now);  
  const hrs = String(Math.floor(diff / 3600000)).padStart(2,"0");  
  const mins = String(Math.floor((diff % 3600000) / 60000)).padStart(2,"0");  
  const secs = String(Math.floor((diff % 60000) / 1000)).padStart(2,"0");  
  
  document.getElementById("nextPrayerClock").innerText =  
    hrs + ":" + mins + ":" + secs;  
  
  document.getElementById("countdownText").innerText =  
    "الصلاة القادمة: " + nextPrayerName;  
}  
  
// تحديث كل ثانية  
setInterval(updateNextPrayerCountdown,1000);  
updateNextPrayerCountdown();  
</script>  </body>  
</html>