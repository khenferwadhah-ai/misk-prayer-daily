<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>لوحة مواقيت الصلاة</title>
<style>
@font-face {
  font-family: 'Amiri';
  src: url('fonts/AmiriQuran.ttf') format('truetype');
  font-weight: normal;
  font-style: normal;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Tahoma',Arial;}
body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:url("background.jpg") no-repeat center center fixed;
  background-size:cover;
}
.overlay{
  width:95%;
  max-width:420px;
  background:rgba(0,0,0,0.72);
  border-radius:18px;
  padding:15px;
  text-align:center;
  color:white;
}
.logo{width:85px;margin-bottom:6px;}
.title{
  font-family:'Amiri', serif;
  color:white;
  font-weight:bold;
  text-shadow:1px 1px 2px #000;
  margin:6px 0;
}
.clock{
  font-size:48px;
  font-weight:bold;
  margin:10px 0;
  padding:10px 20px;
  border-radius:12px;
  background:rgba(0,255,0,0.15);
  border:2px solid rgba(0,255,0,0.4);
  box-shadow:0 0 10px rgba(0,255,0,0.4);
  color:#bfff00;
  text-shadow:0 0 5px #bfff00;
}
.table{width:100%;font-size:17px;margin-top:10px;}
.row{
  display:flex;
  justify-content:space-between;
  border-bottom:1px solid rgba(255,255,255,.25);
  padding:6px 0;
}
.row.nextPrayer{
  border:2px solid #00ff00;
  border-radius:6px;
  padding:6px 8px;
}
#nextPrayerClock{
  font-size:32px;
  margin-top:8px;
  padding:6px 12px;
  border-radius:10px;
  background:rgba(0,255,0,0.08);
  border:1px solid rgba(0,255,0,0.3);
  box-shadow:0 0 5px rgba(0,255,0,0.4);
  color:white;
  text-shadow:1px 1px 2px #000;
}
.next, #nextPrayerClock{
  font-family:'Amiri', serif;
  font-weight:bold;
}
.date{
  margin:4px 0;
  font-size:14px;
  color:#ffd;
}
</style>
</head>
<body>
<div class="overlay">
  <img src="logo.png" class="logo">
  <div class="title">الجمعية الخيرية مسك الختام – القرارم قوقة</div>
  <div class="date" id="gregorian">--</div>
  <div class="date" id="hijri">--</div>
  <div class="clock" id="clock">00:00:00</div>
  <div class="next" id="countdownText">الصلاة القادمة: --</div>
  <div class="clock" id="nextPrayerClock">- --:--:--</div>
  <div class="table" id="prayerTable"></div>
</div>

<script>
// ✅ جدول مواقيت الصلاة اليومي
const dailyPrayers = {
  "2026-02-01":{"الفجر":"06:09","الشروق":"07:38","الظهر":"12:49","العصر":"15:39","المغرب":"18:03","العشاء":"19:24"},
  "2026-02-02":{"الفجر":"06:08","الشروق":"07:38","الظهر":"12:49","العصر":"15:40","المغرب":"18:05","العشاء":"19:26"},
  "2026-02-03":{"الفجر":"06:07","الشروق":"07:38","الظهر":"12:49","العصر":"15:41","المغرب":"18:07","العشاء":"19:27"}
  // يمكن إضافة بقية الأيام
};

// تحديث الساعة والتواريخ
function updateClockAndDates(){
  const now=new Date();
  const yyyy=now.getFullYear();
  const mm=String(now.getMonth()+1).padStart(2,"0");
  const dd=String(now.getDate()).padStart(2,"0");
  const dateKey=`${yyyy}-${mm}-${dd}`;
  
  // تحديث الساعة
  document.getElementById("clock").innerText=now.toLocaleTimeString("ar-DZ",{hour12:false});
  
  // التاريخ الميلادي
  document.getElementById("gregorian").innerText=now.toLocaleDateString("ar-DZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"});
  
  // التاريخ الهجري
  const hijriDate=now<new Date("2026-02-01")?"12 شعبان 1447":"12 شعبان 1447";
  document.getElementById("hijri").innerText=hijriDate;

  // جدول اليوم
  const prayersForToday=dailyPrayers[dateKey] || dailyPrayers["2026-02-01"];
  const container=document.getElementById("prayerTable");
  container.innerHTML="";
  for(let name in prayersForToday){
    const div=document.createElement("div");
    div.className="row";
    div.innerHTML=`<span>${name}</span><span>${prayersForToday[name]}</span>`;
    container.appendChild(div);
  }
  
  return prayersForToday;
}

// العد التنازلي للصلاة القادمة
function updateNextPrayerCountdown(){
  const prayersForToday=updateClockAndDates();
  const rows=document.querySelectorAll(".row");
  rows.forEach(r=>r.classList.remove("nextPrayer"));
  const now=new Date();
  let target,nextRow,name;
  let currentMinutes=now.getHours()*60+now.getMinutes();
  const prayerNames=["الفجر","الشروق","الظهر","العصر","المغرب","العشاء"];
  for(let i=0;i<prayerNames.length;i++){
    const p=prayerNames[i];
    const [h,m]=prayersForToday[p].split(":").map(Number);
    if(h*60+m > currentMinutes){
      target=new Date();
      target.setHours(h,m,0,0);
      nextRow=rows[i];
      name=p;
      break;
    }
  }
  if(!target){
    const p=prayerNames[0];
    const [h,m]=prayersForToday[p].split(":").map(Number);
    target=new Date();
    target.setDate(target.getDate()+1);
    target.setHours(h,m,0,0);
    nextRow=rows[0];
    name=p;
  }
  if(nextRow) nextRow.classList.add("nextPrayer");
  const diff=Math.max(0,target-now);
  const h=String(Math.floor(diff/3600000)).padStart(2,"0");
  const m=String(Math.floor(diff%3600000/60000)).padStart(2,"0");
  const s=String(Math.floor(diff%60000/1000)).padStart(2,"0");
  document.getElementById("nextPrayerClock").innerText=`- ${h}:${m}:${s}`;
  document.getElementById("countdownText").innerText=`الصلاة القادمة: ${name}`;
}

// التحديث كل 10 ثوانٍ لتخفيف الحمل
setInterval(updateNextPrayerCountdown,10000);
updateNextPrayerCountdown();
</script>
</body>
</html>