<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>مواقيت الصلاة - ميلة</title>

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Cairo',Tahoma;}
body{
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:url("background.jpg") no-repeat center center fixed;
  background-size:cover;
}
.overlay{
  width:95%;
  max-width:420px;
  background:rgba(0,0,0,0.75);
  border-radius:18px;
  padding:15px;
  text-align:center;
  color:white;
}

/* ===== الساعة ===== */
.clock{
  width:110px;
  height:110px;
  border:4px solid gold;
  border-radius:50%;
  margin:0 auto 8px;
  position:relative;
  background:radial-gradient(circle,#111,#000);
}
.clock span{
  position:absolute;
  width:100%;
  height:100%;
  text-align:center;
  transform:rotate(calc(var(--i) * 30deg));
}
.clock span b{
  display:inline-block;
  transform:rotate(calc(var(--i) * -30deg));
  font-size:14px;
  margin-top:6px;
}

.hand{
  position:absolute;
  width:50%;
  height:2px;
  background:white;
  top:50%;
  left:50%;
  transform-origin:0%;
  transform:rotate(90deg);
}
.hand.hour{width:35%;height:4px;}
.hand.minute{width:45%;height:3px;}
.hand.second{width:48%;height:2px;background:red;}

.center-dot{
  position:absolute;
  width:8px;
  height:8px;
  background:white;
  border-radius:50%;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
}

.title{
  font-size:20px;
  font-weight:700;
  text-shadow:0 0 10px gold;
}
.date{margin:5px 0;font-size:17px;font-weight:700}

.table{margin-top:10px}
.row{
  display:flex;
  justify-content:space-between;
  padding:6px 8px;
  border-bottom:1px solid rgba(255,255,255,.25);
  font-weight:700;
}
.row.nextPrayer{
  background:gold;
  color:black;
  border-radius:8px;
}
#nextPrayerClock{
  font-size:30px;
  margin:10px 0;
  padding:6px 12px;
  border:2px solid gold;
  border-radius:10px;
  box-shadow:0 0 15px rgba(255,215,0,.7);
}
.footer{
  margin-top:10px;
  font-size:14px;
  display:flex;
  justify-content:center;
  gap:6px;
}
</style>
</head>

<body>

<div class="overlay">

  <!-- ===== الساعة الدائرية ===== -->
  <div class="clock">
    <span style="--i:1"><b>1</b></span>
    <span style="--i:2"><b>2</b></span>
    <span style="--i:3"><b>3</b></span>
    <span style="--i:4"><b>4</b></span>
    <span style="--i:5"><b>5</b></span>
    <span style="--i:6"><b>6</b></span>
    <span style="--i:7"><b>7</b></span>
    <span style="--i:8"><b>8</b></span>
    <span style="--i:9"><b>9</b></span>
    <span style="--i:10"><b>10</b></span>
    <span style="--i:11"><b>11</b></span>
    <span style="--i:12"><b>12</b></span>

    <div class="hand hour" id="hourHand"></div>
    <div class="hand minute" id="minuteHand"></div>
    <div class="hand second" id="secondHand"></div>
    <div class="center-dot"></div>
  </div>

  <div class="title">الجمعية الخيرية مسك الختام</div>

  <div class="date" id="gregorian">--</div>
  <div class="date" id="hijri">--</div>

  <div id="countdownText">-- بعد:</div>
  <div id="nextPrayerClock">--:--:--</div>

  <div class="table" id="prayerTable"></div>

  <div class="footer">
    <span>misk elkhithem ©</span>
  </div>
</div>

<script>
/* ===== الساعة الحقيقية ===== */
function updateClock(){
  const now=new Date();
  const s=now.getSeconds();
  const m=now.getMinutes();
  const h=now.getHours()%12;

  document.getElementById("secondHand").style.transform=`rotate(${s*6}deg)`;
  document.getElementById("minuteHand").style.transform=`rotate(${m*6+s*0.1}deg)`;
  document.getElementById("hourHand").style.transform=`rotate(${h*30+m*0.5}deg)`;
}
setInterval(updateClock,1000);
updateClock();

/* ===== التاريخ الهجري ===== */
const HIJRI_START_DATE=new Date("2026-02-01T00:00:00");
const hijriMonths=["محرم","صفر","ربيع الأول","ربيع الثاني","جمادى الأولى","جمادى الآخرة","رجب","شعبان","رمضان","شوال","ذو القعدة","ذو الحجة"];

function updateHijri(){
  const today=new Date();
  today.setHours(0,0,0,0);
  const diff=Math.floor((today-HIJRI_START_DATE)/86400000);
  let d=13+diff,m=7,y=1447;
  while(d>30){d-=30;m++;if(m>11){m=0;y++;}}
  document.getElementById("hijri").innerText=`${d} ${hijriMonths[m]} ${y} هـ`;
}

/* ===== تاريخ ميلادي ===== */
function updateGregorian(){
  document.getElementById("gregorian").innerText=
    new Date().toLocaleDateString("ar-DZ",{weekday:"long",year:"numeric",month:"long",day:"numeric"});
}

updateHijri();
updateGregorian();
setInterval(updateGregorian,60000);
</script>

</body>
</html>